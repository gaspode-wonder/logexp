# filename: .github/workflows/build.yml

name: Docker Build

on:
    push:
        branches:
            - "**"
    pull_request:
        branches:
            - "**"

jobs:
    docker-build:
        runs-on: ubuntu-latest

        steps:
            - name: Checkout repository
              uses: actions/checkout@v4

            - name: Clean workspace (remove stale configs & caches)
              run: |
                  git clean -xfd

            - name: Set up Docker Buildx
              uses: docker/setup-buildx-action@v3

            - name: Build Docker image (no push)
              run: |
                  docker build \
                    --file Dockerfile \
                    --tag logexp:ci \
                    .

            - name: Show image details
              run: docker image inspect logexp:ci
