{% extends "base.html" %}
{% block title %}Home - LogExp{% endblock %}
{% block content %}
  <h2>Welcome to LogExp</h2>
  <p>Use the navigation above to explore readings, diagnostics, and documentation.</p>

  <!-- Inline Poller Status -->
  <div id="poller-status">
    <button onclick="checkStatus()">Check Poller Status</button>
    <p id="status-result"></p>
  </div>

  <script>
    async function checkStatus() {
      try {
        const response = await fetch("{{ url_for('main.poller_status') }}");
        const data = await response.json();
        document.getElementById("status-result").innerText =
          "Poller is currently: " + data.poller_status;
      } catch (err) {
        document.getElementById("status-result").innerText =
          "Error checking status.";
      }
    }
  </script>
{% endblock %}
